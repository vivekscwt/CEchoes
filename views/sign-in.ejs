<!DOCTYPE html>
<html lang="en">
	<!--begin::Head-->
	<head>
		<title>sign-in</title>
		<meta name="description" content="The most advanced Bootstrap Admin Theme on Themeforest trusted by 94,000 beginners and professionals. Multi-demo, Dark Mode, RTL support and complete React, Angular, Vue &amp; Laravel versions. Grab your copy now and get life-time updates for free." />
		<meta name="keywords" content="Metronic, bootstrap, bootstrap 5, Angular, VueJs, React, Laravel, admin themes, web design, figma, web development, free templates, free admin themes, bootstrap theme, bootstrap template, bootstrap dashboard, bootstrap dak mode, bootstrap button, bootstrap datepicker, bootstrap timepicker, fullcalendar, datatables, flaticon" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta charset="utf-8" />
		<meta property="og:locale" content="en_US" />
		<meta property="og:type" content="article" />
		<meta property="og:title" content="Metronic - Bootstrap 5 HTML, VueJS, React, Angular &amp; Laravel Admin Dashboard Theme" />
		<meta property="og:url" content="https://keenthemes.com/metronic" />
		<meta property="og:site_name" content="Keenthemes | Metronic" />
		<link rel="canonical" href="Https://preview.keenthemes.com/metronic8" />
		<link rel="shortcut icon" href="assets/media/logos/favicon.ico" />
		<!--begin::Fonts-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
		<!--end::Fonts-->
		<!--begin::Global Stylesheets Bundle(used by all pages)-->
		<link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
		<link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
		<!--end::Global Stylesheets Bundle-->
	</head>
	<!--end::Head-->
	<!--begin::Body-->
	<body id="kt_body" class="bg-dark">
		<!--begin::Main-->
		<div class="d-flex flex-column flex-root">
			<!--begin::Authentication - Sign-in -->
			<div class="d-flex flex-column flex-column-fluid bgi-position-y-bottom position-x-center bgi-no-repeat bgi-size-contain bgi-attachment-fixed" style="background-image: url(assets/media/illustrations/sketchy-1/14.png">
				<!--begin::Content-->
				<div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
					<!--begin::Logo-->
					<a href="/" class="mb-12">
						<img alt="Logo" src="assets/media/logos/logo.png" class="h-80px" />
					</a>
					<!--end::Logo-->
					<!--begin::Wrapper-->
					<div class="w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
						<!--begin::Form-->
						<form class="form w-100" novalidate="novalidate" id="kt_sign_in_form" action="/auth/login" method="POST">
							<!--begin::Heading-->
							<div class="text-center mb-10">
								<!--begin::Title-->
								<h1 class="text-dark mb-3">Sign In to Admin</h1>
								<!--end::Title-->
								<!--begin::Link-->
								<!--<div class="text-gray-400 fw-bold fs-4">New Here?
								<a href="/sign-up" class="link-primary fw-bolder">Create an Account</a></div>-->
								<!--end::Link-->
							</div>
							<!--begin::Heading-->
							<!--begin::Input group-->
							<div class="fv-row mb-10">
								<!--begin::Label-->
								<label class="form-label fs-6 fw-bolder text-dark">Email</label>
								<!--end::Label-->
								<!--begin::Input-->
								<input class="form-control form-control-lg form-control-solid" type="text" name="email" autocomplete="off" />
								<!--end::Input-->
							</div>
							<!--end::Input group-->
							<!--begin::Input group-->
							<div class="fv-row mb-10">
								<!--begin::Wrapper-->
								<div class="d-flex flex-stack mb-2">
									<!--begin::Label-->
									<label class="form-label fw-bolder text-dark fs-6 mb-0">Password</label>
									<!--end::Label-->
									<!--begin::Link-->
									<%#<a href="#" class="link-primary fs-6 fw-bolder">Forgot Password ?</a>#%>
									<!--end::Link-->
								</div>
								<!--end::Wrapper-->
								<!--begin::Input-->
								<input class="form-control form-control-lg form-control-solid" type="password" name="password" autocomplete="off" />
								<!--end::Input-->
							</div>
							<!--end::Input group-->
							<!--begin::Actions-->
							<div class="text-center">
								<!--begin::Submit button-->
								<button type="submit" id="kt_sign_in_submit" class="btn btn-lg btn-primary w-100 mb-5">
									<span class="indicator-label">Continue</span>
									<span class="indicator-progress">Please wait...
									<span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
								</button>
								<!--end::Submit button-->
							</div>
							<!--end::Actions-->
						</form>
						<%if (message) { %>
							<p><%= message %></p>
						<% } %>
						<!--end::Form-->
					</div>
					<!--end::Wrapper-->
				</div>
				<!--end::Content-->
				<!--begin::Footer-->
				<div class="d-flex flex-center flex-column-auto p-10">
					<!--begin::Links-->
					<!--<div class="d-flex align-items-center fw-bold fs-6">
						<a href="https://keenthemes.com" class="text-muted text-hover-primary px-2">About</a>
						<a href="mailto:support@keenthemes.com" class="text-muted text-hover-primary px-2">Contact</a>
						<a href="https://1.envato.market/EA4JP" class="text-muted text-hover-primary px-2">Contact Us</a>
					</div>-->
					<!--end::Links-->
				</div>
				<!--end::Footer-->
			</div>
			<!--end::Authentication - Sign-in-->
		</div>
		<!--end::Main-->
		<!--begin::Javascript-->
		<!--begin::Global Javascript Bundle(used by all pages)-->
		<script src="assets/plugins/global/plugins.bundle.js"></script>
		<script src="assets/js/scripts.bundle.js"></script>
		<!--end::Global Javascript Bundle-->
		<!--begin::Page Custom Javascript(used by this page)-->
		<!--<script src="assets/js/custom/authentication/sign-in/general.js"></script>-->
		<!--end::Page Custom Javascript-->
		<!--end::Javascript-->
		<script>
			/******/ (() => { // webpackBootstrap
			/******/ 	"use strict";
			var __webpack_exports__ = {};
			/*!*******************************************************************************************!*\
			!*** ../../../themes/metronic/html/demo1/src/js/custom/authentication/sign-in/general.js ***!
			\*******************************************************************************************/
	
	
			// Class definition
			var KTSigninGeneral = function() {
				// Elements
				var form;
				var submitButton;
				var validator;
	
				// Handle form
				var handleForm = function(e) {
					// Init form validation rules. For more info check the FormValidation plugin's official documentation:https://formvalidation.io/
					validator = FormValidation.formValidation(
						form,
						{
							fields: {					
								'email': {
									validators: {
										notEmpty: {
											message: 'Email address is required'
										},
										emailAddress: {
											message: 'The value is not a valid email address'
										}
									}
								},
								'password': {
									validators: {
										notEmpty: {
											message: 'The password is required'
										}
									}
								} 
							},
							plugins: {
								trigger: new FormValidation.plugins.Trigger(),
								bootstrap: new FormValidation.plugins.Bootstrap5({
									rowSelector: '.fv-row'
								})
							}
						}
					);		
	
					// Handle form submit
					submitButton.addEventListener('click', function (e) {
						// Prevent button default action
						e.preventDefault();
	
						// Validate form
						validator.validate().then(function (status) {
							if (status == 'Valid') {
								// Show loading indication
								submitButton.setAttribute('data-kt-indicator', 'on');
	
								// Disable button to avoid multiple click 
								submitButton.disabled = true;
								
	
								// Simulate ajax request
								setTimeout(function() {
									// Hide loading indication
									submitButton.removeAttribute('data-kt-indicator');
	
									
										const formData = $('#kt_sign_in_form').serializeArray();
										const jsonData = {};
										$(formData).each(function (index, field) {
											jsonData[field.name] = field.value;
										});
										console.log(jsonData);
										$.ajax({
											url: '/auth/login',
											method: 'POST',
											data: jsonData,
											ContentType: 'application/json',
											success: function (data) {
												if (data.status == 'ok') {
													window.location.href="/dashboard";
													// Swal.fire({
													// 	text: data.message,
													// 	icon: "success",
													// 	buttonsStyling: false,
													// 	confirmButtonText: "Ok, got it!",
													// 	customClass: {
													// 		confirmButton: "btn btn-primary"
													// 	}
													// }).then(function (result) {
													// 	if (result.isConfirmed) {
													// 		window.location.href="/dashboard";
													// 	}
													// });
												} else {
													Swal.fire({
														text: data.message,
														icon: "error",
														buttonsStyling: false,
														confirmButtonText: "Ok, got it!",
														customClass: {
															confirmButton: "btn btn-primary"
														}
													});
													submitButton.disabled = false;
												}
											},
											error: function (error) {
												// Handle any errors
												Swal.fire({
													text: error,
													icon: "error",
													buttonsStyling: false,
													confirmButtonText: "Ok, got it!",
													customClass: {
														confirmButton: "btn btn-primary"
													}
												});
												submitButton.disabled = false;
											}
										});
								}, 2000);
							} else {
								// Show error popup. For more info check the plugin's official documentation: https://sweetalert2.github.io/
								Swal.fire({
									text: "Sorry, looks like there are some errors detected, please try again.",
									icon: "error",
									buttonsStyling: false,
									confirmButtonText: "Ok, got it!",
									customClass: {
										confirmButton: "btn btn-primary"
									}
								});
							}
						});
					});
				}
	
				// Public functions
				return {
					// Initialization
					init: function() {
						form = document.querySelector('#kt_sign_in_form');
						submitButton = document.querySelector('#kt_sign_in_submit');
						
						handleForm();
					}
				};
			}();
	
			// On document ready
			KTUtil.onDOMContentLoaded(function() {
				KTSigninGeneral.init();
			});
	
			/******/ })()
			;
			//# sourceMappingURL=general.js.map			
			</script>
	</body>
	<!--end::Body-->
</html>